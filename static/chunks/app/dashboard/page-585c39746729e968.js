(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[105],{20274:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>ej});var a=r(95155),n=r(12115),l=r(23355),s=r(28098);let o={"Solar Panel":["AlphaSun XT3000","EcoShine G5","SunPower Max 500","LG NeON R"],Battery:["PowerWall X","StoreEdge Pro","EnerVault Home","Tesla Megapack Mini"],Inverter:["SunnyBoy 5.0","Fronius Primo Gen24","SolarEdge HD-Wave","SMA Core1"]},i=["Rooftop Array 1","Ground Mount South","Carport Solar System","Community Solar Farm Section A"],d=0;function c(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:12,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:6,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:50,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:20,n=[],o=new Date;for(let i=e-1;i>=0;i--){let d=(0,l.O)(o,Math.floor(i*t/e));n.push({timestamp:(0,s.GP)(d,"HH:mm"),value:parseFloat((r+(Math.random()-.5)*a).toFixed(2))})}return n}function u(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:50,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10,a={timestamp:(0,s.GP)(new Date,"HH:mm"),value:parseFloat((t+(Math.random()-.5)*r).toFixed(2))};return[...e.slice(1),a]}var m=r(83540),x=r(93504),h=r(94754),f=r(96025),p=r(16238),g=r(94517),v=r(21374),j=r(59434);let y=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,a.jsx)("div",{ref:t,className:(0,j.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",r),...n})});y.displayName="Card";let N=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,a.jsx)("div",{ref:t,className:(0,j.cn)("flex flex-col space-y-1.5 p-6",r),...n})});N.displayName="CardHeader";let b=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,a.jsx)("div",{ref:t,className:(0,j.cn)("text-2xl font-semibold leading-none tracking-tight",r),...n})});b.displayName="CardTitle";let w=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,a.jsx)("div",{ref:t,className:(0,j.cn)("text-sm text-muted-foreground",r),...n})});w.displayName="CardDescription";let M=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,a.jsx)("div",{ref:t,className:(0,j.cn)("p-6 pt-0",r),...n})});M.displayName="CardContent",n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,a.jsx)("div",{ref:t,className:(0,j.cn)("flex items-center p-6 pt-0",r),...n})}).displayName="CardFooter";var k=r(24026);let F={light:"",dark:".dark"},C=n.createContext(null);function S(){let e=n.useContext(C);if(!e)throw Error("useChart must be used within a <ChartContainer />");return e}let P=n.forwardRef((e,t)=>{let{id:r,className:l,children:s,config:o,...i}=e,d=n.useId(),c="chart-".concat(r||d.replace(/:/g,""));return(0,a.jsx)(C.Provider,{value:{config:o},children:(0,a.jsxs)("div",{"data-chart":c,ref:t,className:(0,j.cn)("flex aspect-video justify-center text-xs [&_.recharts-cartesian-axis-tick_text]:fill-muted-foreground [&_.recharts-cartesian-grid_line[stroke='#ccc']]:stroke-border/50 [&_.recharts-curve.recharts-tooltip-cursor]:stroke-border [&_.recharts-dot[stroke='#fff']]:stroke-transparent [&_.recharts-layer]:outline-none [&_.recharts-polar-grid_[stroke='#ccc']]:stroke-border [&_.recharts-radial-bar-background-sector]:fill-muted [&_.recharts-rectangle.recharts-tooltip-cursor]:fill-muted [&_.recharts-reference-line_[stroke='#ccc']]:stroke-border [&_.recharts-sector[stroke='#fff']]:stroke-transparent [&_.recharts-sector]:outline-none [&_.recharts-surface]:outline-none",l),...i,children:[(0,a.jsx)(_,{id:c,config:o}),(0,a.jsx)(m.u,{children:s})]})})});P.displayName="Chart";let _=e=>{let{id:t,config:r}=e,n=Object.entries(r).filter(e=>{let[,t]=e;return t.theme||t.color});return n.length?(0,a.jsx)("style",{dangerouslySetInnerHTML:{__html:Object.entries(F).map(e=>{let[r,a]=e;return"\n".concat(a," [data-chart=").concat(t,"] {\n").concat(n.map(e=>{var t;let[a,n]=e,l=(null===(t=n.theme)||void 0===t?void 0:t[r])||n.color;return l?"  --color-".concat(a,": ").concat(l,";"):null}).join("\n"),"\n}\n")}).join("\n")}}):null};g.m;let L=n.forwardRef((e,t)=>{let{active:r,payload:l,className:s,indicator:o="dot",hideLabel:i=!1,hideIndicator:d=!1,label:c,labelFormatter:u,labelClassName:m,formatter:x,color:h,nameKey:f,labelKey:p}=e,{config:g}=S(),v=n.useMemo(()=>{var e;if(i||!(null==l?void 0:l.length))return null;let[t]=l,r="".concat(p||t.dataKey||t.name||"value"),n=E(g,t,r),s=p||"string"!=typeof c?null==n?void 0:n.label:(null===(e=g[c])||void 0===e?void 0:e.label)||c;return u?(0,a.jsx)("div",{className:(0,j.cn)("font-medium",m),children:u(s,l)}):s?(0,a.jsx)("div",{className:(0,j.cn)("font-medium",m),children:s}):null},[c,u,l,i,m,g,p]);if(!r||!(null==l?void 0:l.length))return null;let y=1===l.length&&"dot"!==o;return(0,a.jsxs)("div",{ref:t,className:(0,j.cn)("grid min-w-[8rem] items-start gap-1.5 rounded-lg border border-border/50 bg-background px-2.5 py-1.5 text-xs shadow-xl",s),children:[y?null:v,(0,a.jsx)("div",{className:"grid gap-1.5",children:l.map((e,t)=>{let r="".concat(f||e.name||e.dataKey||"value"),n=E(g,e,r),l=h||e.payload.fill||e.color;return(0,a.jsx)("div",{className:(0,j.cn)("flex w-full flex-wrap items-stretch gap-2 [&>svg]:h-2.5 [&>svg]:w-2.5 [&>svg]:text-muted-foreground","dot"===o&&"items-center"),children:x&&(null==e?void 0:e.value)!==void 0&&e.name?x(e.value,e.name,e,t,e.payload):(0,a.jsxs)(a.Fragment,{children:[(null==n?void 0:n.icon)?(0,a.jsx)(n.icon,{}):!d&&(0,a.jsx)("div",{className:(0,j.cn)("shrink-0 rounded-[2px] border-[--color-border] bg-[--color-bg]",{"h-2.5 w-2.5":"dot"===o,"w-1":"line"===o,"w-0 border-[1.5px] border-dashed bg-transparent":"dashed"===o,"my-0.5":y&&"dashed"===o}),style:{"--color-bg":l,"--color-border":l}}),(0,a.jsxs)("div",{className:(0,j.cn)("flex flex-1 justify-between leading-none",y?"items-end":"items-center"),children:[(0,a.jsxs)("div",{className:"grid gap-1.5",children:[y?v:null,(0,a.jsx)("span",{className:"text-muted-foreground",children:(null==n?void 0:n.label)||e.name})]}),e.value&&(0,a.jsx)("span",{className:"font-mono font-medium tabular-nums text-foreground",children:e.value.toLocaleString()})]})]})},e.dataKey)})})]})});L.displayName="ChartTooltip";let R=k.s,A=n.forwardRef((e,t)=>{let{className:r,hideIcon:n=!1,payload:l,verticalAlign:s="bottom",nameKey:o}=e,{config:i}=S();return(null==l?void 0:l.length)?(0,a.jsx)("div",{ref:t,className:(0,j.cn)("flex items-center justify-center gap-4","top"===s?"pb-3":"pt-3",r),children:l.map(e=>{let t="".concat(o||e.dataKey||"value"),r=E(i,e,t);return(0,a.jsxs)("div",{className:(0,j.cn)("flex items-center gap-1.5 [&>svg]:h-3 [&>svg]:w-3 [&>svg]:text-muted-foreground"),children:[(null==r?void 0:r.icon)&&!n?(0,a.jsx)(r.icon,{}):(0,a.jsx)("div",{className:"h-2 w-2 shrink-0 rounded-[2px]",style:{backgroundColor:e.color}}),null==r?void 0:r.label]},e.value)})}):null});function E(e,t,r){if("object"!=typeof t||null===t)return;let a="payload"in t&&"object"==typeof t.payload&&null!==t.payload?t.payload:void 0,n=r;return r in t&&"string"==typeof t[r]?n=t[r]:a&&r in a&&"string"==typeof a[r]&&(n=a[r]),n in e?e[n]:e[r]}A.displayName="ChartLegend";var H=r(89829);let O={production:{label:"Production (kW)",color:"hsl(var(--chart-1))"}};function W(e){let{initialData:t,currentProduction:r,onDataUpdate:l}=e,[s,o]=(0,n.useState)(t);return(0,n.useEffect)(()=>{o(t)},[t]),(0,a.jsxs)(y,{children:[(0,a.jsxs)(N,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,a.jsxs)("div",{className:"grid gap-1",children:[(0,a.jsxs)(b,{className:"text-base font-semibold flex items-center",children:[(0,a.jsx)(H.A,{className:"h-5 w-5 mr-2 text-primary"})," Energy Production"]}),(0,a.jsx)(w,{children:"Last 6 hours"})]}),(0,a.jsxs)("div",{className:"text-right",children:[(0,a.jsxs)("p",{className:"text-3xl font-bold text-primary",children:[r.toFixed(1)," ",(0,a.jsx)("span",{className:"text-lg font-normal text-muted-foreground",children:"kW"})]}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:"Current"})]})]}),(0,a.jsx)(M,{children:(0,a.jsx)(P,{config:O,className:"h-[250px] w-full",children:(0,a.jsx)(m.u,{width:"100%",height:"100%",children:(0,a.jsxs)(x.b,{data:s,margin:{top:5,right:10,left:-20,bottom:0},children:[(0,a.jsx)(h.d,{strokeDasharray:"3 3",vertical:!1}),(0,a.jsx)(f.W,{dataKey:"timestamp",tickLine:!1,axisLine:!1,tickMargin:8}),(0,a.jsx)(p.h,{tickLine:!1,axisLine:!1,tickMargin:8,unit:"kW"}),(0,a.jsx)(g.m,{cursor:!1,content:(0,a.jsx)(L,{indicator:"line",labelKey:"value",hideLabel:!0})}),(0,a.jsx)(v.N,{dataKey:"value",name:"Production",type:"monotone",stroke:"var(--color-production)",strokeWidth:2.5,dot:!1,activeDot:{r:6}})]})})})})]})}var D=r(8803);let K={consumption:{label:"Consumption (kW)",color:"hsl(var(--chart-2))"}};function T(e){let{initialData:t,currentConsumption:r,onDataUpdate:l}=e,[s,o]=(0,n.useState)(t);return(0,n.useEffect)(()=>{o(t)},[t]),(0,a.jsxs)(y,{children:[(0,a.jsxs)(N,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,a.jsxs)("div",{className:"grid gap-1",children:[(0,a.jsxs)(b,{className:"text-base font-semibold flex items-center",children:[(0,a.jsx)(D.A,{className:"h-5 w-5 mr-2 text-destructive"})," Energy Consumption"]}),(0,a.jsx)(w,{children:"Last 6 hours"})]}),(0,a.jsxs)("div",{className:"text-right",children:[(0,a.jsxs)("p",{className:"text-3xl font-bold text-destructive",children:[r.toFixed(1)," ",(0,a.jsx)("span",{className:"text-lg font-normal text-muted-foreground",children:"kW"})]}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:"Current"})]})]}),(0,a.jsx)(M,{children:(0,a.jsx)(P,{config:K,className:"h-[250px] w-full",children:(0,a.jsx)(m.u,{width:"100%",height:"100%",children:(0,a.jsxs)(x.b,{data:s,margin:{top:5,right:10,left:-20,bottom:0},children:[(0,a.jsx)(h.d,{strokeDasharray:"3 3",vertical:!1}),(0,a.jsx)(f.W,{dataKey:"timestamp",tickLine:!1,axisLine:!1,tickMargin:8}),(0,a.jsx)(p.h,{tickLine:!1,axisLine:!1,tickMargin:8,unit:"kW"}),(0,a.jsx)(g.m,{cursor:!1,content:(0,a.jsx)(L,{indicator:"line",labelKey:"value",hideLabel:!0})}),(0,a.jsx)(v.N,{dataKey:"value",name:"Consumption",type:"monotone",stroke:"var(--color-consumption)",strokeWidth:2.5,dot:!1,activeDot:{r:6}})]})})})})]})}var I=r(69321),G=r(55863);let B=n.forwardRef((e,t)=>{let{className:r,value:n,...l}=e;return(0,a.jsx)(G.bL,{ref:t,className:(0,j.cn)("relative h-4 w-full overflow-hidden rounded-full bg-secondary",r),...l,children:(0,a.jsx)(G.C1,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:"translateX(-".concat(100-(n||0),"%)")}})})});function z(e){let{title:t,value:r,description:n,icon:l,unit:s,children:o,className:i,footer:d}=e;return(0,a.jsxs)(y,{className:i,children:[(0,a.jsxs)(N,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,a.jsx)(b,{className:"text-base font-semibold",children:t}),l&&(0,a.jsx)(l,{className:"h-5 w-5 text-muted-foreground"})]}),(0,a.jsxs)(M,{children:[(0,a.jsxs)("div",{className:"text-3xl font-bold",children:[r,s&&(0,a.jsx)("span",{className:"ml-1 text-xl font-medium text-muted-foreground",children:s})]}),n&&(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:n}),o&&(0,a.jsx)("div",{className:"mt-4",children:o})]}),d&&(0,a.jsx)("div",{className:"border-t px-6 py-4 text-sm text-muted-foreground",children:d})]})}function X(e){let{efficiency:t}=e;return(0,a.jsx)(z,{title:"Grid Efficiency",value:"".concat(t.toFixed(1)),unit:"%",icon:I.A,description:"System performance rating",className:"h-full",children:(0,a.jsxs)("div",{className:"mt-4",children:[(0,a.jsx)(B,{value:t,className:"h-3 [&>div]:bg-primary","aria-label":"Grid efficiency: ".concat(t,"%")}),(0,a.jsxs)("div",{className:"mt-2 flex justify-between text-xs text-muted-foreground",children:[(0,a.jsx)("span",{children:"0%"}),(0,a.jsx)("span",{children:"100%"})]})]})})}B.displayName=G.bL.displayName;var q=r(53838);function U(e){let{savings:t}=e;return(0,a.jsx)(z,{title:"CO₂ Savings",value:t.toLocaleString(),unit:"kg",icon:q.A,description:"Estimated CO₂ emissions avoided",className:"h-full",children:(0,a.jsxs)("p",{className:"text-xs text-muted-foreground mt-2",children:["Equivalent to ",(0,a.jsx)("span",{className:"font-semibold text-foreground",children:(t/20).toFixed(1)})," trees planted this year."]})})}var V=r(8782),Q=r(34e3),$=r(54811),J=r(25844);function Y(e){let{initialData:t}=e,r=t.reduce((e,t)=>(e[t.name]={label:t.name,color:t.fill},e),{});return(0,a.jsxs)(y,{className:"flex flex-col h-full",children:[(0,a.jsxs)(N,{children:[(0,a.jsxs)(b,{className:"text-base font-semibold flex items-center",children:[(0,a.jsx)(J.A,{className:"h-5 w-5 mr-2 text-accent"})," Energy Mix"]}),(0,a.jsx)(w,{children:"Current distribution of energy sources"})]}),(0,a.jsx)(M,{className:"flex-1 pb-0",children:(0,a.jsx)(P,{config:r,className:"mx-auto aspect-square max-h-[300px]",children:(0,a.jsx)(m.u,{width:"100%",height:"100%",children:(0,a.jsxs)(V.r,{children:[(0,a.jsx)(g.m,{cursor:!1,content:(0,a.jsx)(L,{hideLabel:!0,nameKey:"name"})}),(0,a.jsx)(Q.F,{data:t,dataKey:"value",nameKey:"name",cx:"50%",cy:"50%",outerRadius:"80%",innerRadius:"55%",strokeWidth:2,children:t.map(e=>(0,a.jsx)($.f,{fill:e.fill},"cell-".concat(e.name)))}),(0,a.jsx)(R,{content:(0,a.jsx)(A,{nameKey:"name"}),className:"-translate-y-2 flex-wrap gap-2 [&>*]:basis-1/4 [&>*]:justify-center"})]})})})})]})}let Z=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,a.jsx)("div",{className:"relative w-full overflow-auto",children:(0,a.jsx)("table",{ref:t,className:(0,j.cn)("w-full caption-bottom text-sm",r),...n})})});Z.displayName="Table";let ee=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,a.jsx)("thead",{ref:t,className:(0,j.cn)("[&_tr]:border-b",r),...n})});ee.displayName="TableHeader";let et=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,a.jsx)("tbody",{ref:t,className:(0,j.cn)("[&_tr:last-child]:border-0",r),...n})});et.displayName="TableBody",n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,a.jsx)("tfoot",{ref:t,className:(0,j.cn)("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",r),...n})}).displayName="TableFooter";let er=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,a.jsx)("tr",{ref:t,className:(0,j.cn)("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",r),...n})});er.displayName="TableRow";let ea=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,a.jsx)("th",{ref:t,className:(0,j.cn)("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",r),...n})});ea.displayName="TableHead";let en=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,a.jsx)("td",{ref:t,className:(0,j.cn)("p-4 align-middle [&:has([role=checkbox])]:pr-0",r),...n})});en.displayName="TableCell",n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,a.jsx)("caption",{ref:t,className:(0,j.cn)("mt-4 text-sm text-muted-foreground",r),...n})}).displayName="TableCaption";let el=(0,r(74466).F)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function es(e){let{className:t,variant:r,...n}=e;return(0,a.jsx)("div",{className:(0,j.cn)(el({variant:r}),t),...n})}var eo=r(12236),ei=r(27565),ed=r(16166),ec=r(58127),eu=r(24371),em=r(31949),ex=r(97723),eh=r(86378);let ef=e=>{let{type:t}=e;return"Inverter"===t?(0,a.jsx)(eo.A,{className:"h-5 w-5 text-muted-foreground"}):"Battery"===t?(0,a.jsx)(ei.A,{className:"h-5 w-5 text-muted-foreground"}):"Solar Panel"===t?(0,a.jsx)(ed.A,{className:"h-5 w-5 text-muted-foreground"}):null},ep=e=>{let{status:t}=e;return"Online"===t?(0,a.jsx)(ec.A,{className:"h-5 w-5 text-green-500"}):"Offline"===t?(0,a.jsx)(eu.A,{className:"h-5 w-5 text-red-500"}):"Warning"===t?(0,a.jsx)(em.A,{className:"h-5 w-5 text-yellow-500"}):null};function eg(e){let{devices:t}=e;return(0,a.jsxs)(y,{className:"col-span-1 lg:col-span-3",children:[(0,a.jsxs)(N,{children:[(0,a.jsx)(b,{className:"text-base font-semibold",children:"Device Status"}),(0,a.jsx)(w,{children:"Overview of all connected energy devices"})]}),(0,a.jsx)(M,{className:"max-h-[400px] overflow-y-auto",children:(0,a.jsxs)(Z,{children:[(0,a.jsx)(ee,{children:(0,a.jsxs)(er,{children:[(0,a.jsx)(ea,{className:"w-[50px]"}),(0,a.jsx)(ea,{children:"Name"}),(0,a.jsx)(ea,{children:"Type"}),(0,a.jsx)(ea,{children:"Status"}),(0,a.jsx)(ea,{className:"text-right",children:"Details"})]})}),(0,a.jsx)(et,{children:t.map(e=>(0,a.jsxs)(er,{children:[(0,a.jsx)(en,{children:(0,a.jsx)(ef,{type:e.type})}),(0,a.jsx)(en,{className:"font-medium",children:e.name}),(0,a.jsx)(en,{children:e.type}),(0,a.jsx)(en,{children:(0,a.jsxs)(es,{variant:"Online"===e.status?"default":"Warning"===e.status?"outline":"destructive",className:"flex items-center gap-1 w-fit",children:[(0,a.jsx)(ep,{status:e.status}),e.status]})}),(0,a.jsx)(en,{className:"text-right text-xs text-muted-foreground",children:(0,a.jsxs)("div",{className:"flex flex-col items-end gap-0.5",children:[void 0!==e.power&&(0,a.jsxs)("span",{className:"flex items-center gap-1",children:[(0,a.jsx)(H.A,{size:12}),e.power.toFixed(1)," kW"]}),void 0!==e.chargeLevel&&(0,a.jsxs)("span",{className:"flex items-center gap-1",children:[(0,a.jsx)(ei.A,{size:12}),e.chargeLevel,"%"]}),void 0!==e.health&&(0,a.jsxs)("span",{className:"flex items-center gap-1",children:[(0,a.jsx)(ex.A,{size:12}),e.health,"% Health"]}),void 0!==e.temperature&&(0,a.jsxs)("span",{className:"flex items-center gap-1",children:[(0,a.jsx)(eh.A,{size:12}),e.temperature,"\xb0C"]})]})})]},e.id))})]})})]})}function ev(e){let{className:t,...r}=e;return(0,a.jsx)("div",{className:(0,j.cn)("animate-pulse rounded-md bg-muted",t),...r})}function ej(){let[e,t]=(0,n.useState)(null),[r,l]=(0,n.useState)(!0);(0,n.useEffect)(()=>{t(function(){var e,t;let r=c(12,6,75,30),a=c(12,6,60,25);return{currentProduction:parseFloat(((null===(e=r[r.length-1])||void 0===e?void 0:e.value)||75).toFixed(1)),currentConsumption:parseFloat(((null===(t=a[a.length-1])||void 0===t?void 0:t.value)||60).toFixed(1)),gridEfficiency:parseFloat((85+10*Math.random()).toFixed(1)),co2Savings:parseFloat((1200+500*Math.random()).toFixed(0)),energyProductionHistory:r,energyConsumptionHistory:a,energyMix:[{name:"Solar",value:Math.floor(50*Math.random())+30,fill:"var(--color-chart-3)"},{name:"Wind",value:Math.floor(30*Math.random())+10,fill:"var(--color-chart-2)"},{name:"Grid",value:Math.floor(20*Math.random())+5,fill:"var(--color-chart-4)"},{name:"Battery",value:Math.floor(15*Math.random())+5,fill:"var(--color-chart-5)"}],devices:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:5,t=[],r=["Solar Panel","Battery","Inverter"];for(let a=0;a<e;a++){let e=r[a%r.length],n=["Online","Offline","Warning"],l=n[Math.floor(Math.random()*n.length)],s=o[e],c=s[Math.floor(Math.random()*s.length)];"Solar Panel"===e&&(c="".concat(i[a%i.length]," - ").concat(c));let u={id:"device-".concat(d++),name:"".concat(c," #").concat(a%3+1),type:e,status:l,health:"Warning"===l?Math.floor(30*Math.random())+50:Math.floor(10*Math.random())+90,temperature:parseFloat((20+15*Math.random()).toFixed(1))};"Solar Panel"===e?u.power="Online"===l?parseFloat((5*Math.random()+1).toFixed(2)):0:"Battery"===e?(u.capacity=[10,13.5,15][Math.floor(3*Math.random())],u.chargeLevel="Online"===l?Math.floor(80*Math.random())+20:0):"Inverter"===e&&(u.power="Online"===l?parseFloat((8*Math.random()+2).toFixed(2)):0),t.push(u)}return t}(8)}}()),l(!1);let e=setInterval(()=>{t(e=>e?function(e){var t,r;let a=u(e.energyProductionHistory,75,30),n=u(e.energyConsumptionHistory,60,25);return{...e,currentProduction:parseFloat(((null===(t=a[a.length-1])||void 0===t?void 0:t.value)||75).toFixed(1)),currentConsumption:parseFloat(((null===(r=n[n.length-1])||void 0===r?void 0:r.value)||60).toFixed(1)),gridEfficiency:parseFloat(Math.min(99,Math.max(80,e.gridEfficiency+(Math.random()-.5)*.5)).toFixed(1)),co2Savings:parseFloat((e.co2Savings+10*Math.random()).toFixed(0)),energyProductionHistory:a,energyConsumptionHistory:n,energyMix:e.energyMix.map(e=>({...e,value:Math.max(5,parseFloat((e.value+(Math.random()-.5)*(.2*e.value)).toFixed(0)))})),devices:e.devices.map(e=>{if(.05>Math.random()){let t=["Online","Offline","Warning"];e.status=t[Math.floor(Math.random()*t.length)]}return"Online"===e.status?("Solar Panel"===e.type&&(e.power=parseFloat(Math.max(0,(e.power||2)+(Math.random()-.5)*1).toFixed(2))),"Battery"===e.type&&(e.chargeLevel=Math.min(100,Math.max(0,(e.chargeLevel||50)+(Math.random()-.45)*10))),"Inverter"===e.type&&(e.power=parseFloat(Math.max(0,(e.power||5)+(Math.random()-.5)*2).toFixed(2))),e.health=Math.min(100,(e.health||90)+(Math.random()>.8?-1:.1))):("Solar Panel"===e.type&&(e.power=0),"Inverter"===e.type&&(e.power=0)),e.temperature=parseFloat(((e.temperature||25)+(Math.random()-.5)*1).toFixed(1)),e})}}(e):null)},5e3);return()=>clearInterval(e)},[]);let s=(0,n.useCallback)(e=>{t(t=>t?{...t,energyProductionHistory:e}:null)},[]),m=(0,n.useCallback)(e=>{t(t=>t?{...t,energyConsumptionHistory:e}:null)},[]);return r||!e?(0,a.jsx)("div",{className:"grid gap-4 md:gap-8 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4",children:[...Array(6)].map((e,t)=>(0,a.jsx)(ev,{className:"h-[300px] rounded-lg"},t))}):(0,a.jsxs)("div",{className:"grid auto-rows-fr gap-4 md:gap-6 lg:gap-8",children:[(0,a.jsxs)("div",{className:"grid gap-4 md:gap-6 lg:gap-8 xl:grid-cols-2",children:[(0,a.jsx)(W,{initialData:e.energyProductionHistory,currentProduction:e.currentProduction,onDataUpdate:s}),(0,a.jsx)(T,{initialData:e.energyConsumptionHistory,currentConsumption:e.currentConsumption,onDataUpdate:m})]}),(0,a.jsxs)("div",{className:"grid gap-4 md:gap-6 lg:gap-8 md:grid-cols-2 xl:grid-cols-3",children:[(0,a.jsx)(X,{efficiency:e.gridEfficiency}),(0,a.jsx)(U,{savings:e.co2Savings}),(0,a.jsx)(Y,{initialData:e.energyMix})]}),(0,a.jsx)(eg,{devices:e.devices})]})}},44680:(e,t,r)=>{Promise.resolve().then(r.bind(r,20274))},59434:(e,t,r)=>{"use strict";r.d(t,{cn:()=>l});var a=r(52596),n=r(39688);function l(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,n.QP)((0,a.$)(t))}}},e=>{var t=t=>e(e.s=t);e.O(0,[668,333,441,684,358],()=>t(44680)),_N_E=e.O()}]);